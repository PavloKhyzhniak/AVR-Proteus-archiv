;************************************
;** ‘айл работы с энергонезависимой пам€тью
;**
;**
;************************************

;************************************
; запись данных в EEPROM
EEPROM_write:
		sbic EECR, EEWE	; ждать завершени€ предыдущей записи
		rjmp EEPROM_write
		out EEARH, tmpH
		out EEARL, tmpL	; занести адресс в регистр адресса
		out EEDR, tmp1	; записать данные в регистр данных
		sbi EECR, EEMWE	; установить флаг EEMWE
		sbi EECR, EEWE	;начать запись в EEPROM
		ret
;************************************

;************************************
;чтение данных из EEPROM
EEPROM_read:
		sbic EECR, EEWE	;ждать завершени€ предыдущей записи
		rjmp EEPROM_read
		out EEARH, tmpH
		out EEARL, tmpL
		sbi EECR, EERE	; начать чтение
		in tmp1, EEDR	;сохранить данные
		ret
;************************************
